<!-- {% extends "admin/base_site.html" %} 
{% load static i18n %}

{% block title %}{{ page_title|default:"My Profile" }} | {{ site_header|default:_('Django administration') }}{% endblock %}

{% block branding %}
<h1 id="site-name"><a href="{% url 'admin:index' %}">{{ site_header|default:_('Django administration') }}</a></h1>
{% endblock %}

{% block nav-global %}{% endblock %} {# Remove default nav if extending admin base #}

{% block content %}
<div id="content-main">
    <h1>{{ page_title|default:"My Profile" }}</h1>
    <hr>

    <div style="display: flex; align-items: flex-start; gap: 20px;">
        <div>
            {% if user.image %}
                <img src="{{ user.image.url }}" alt="Photo of {{ user.get_full_name|default:user.username }}" style="max-width: 150px; height: auto; border-radius: 5px; margin-bottom: 15px;">
            {% else %}
                <p>{% translate "No profile picture available." %}</p>
            {% endif %}
             {# Add link to change profile details - requires another view/form #}
             {# <p><a href="{% url 'accounts:profile_edit' %}">Edit Profile</a></p> #}
             <p><a href="{% url 'admin:password_change' %}">{% translate 'Change password' %}</a></p>
        </div>
        <div>
            <p><strong>{% translate 'Username:' %}</strong> {{ user.username }}</p>
            <p><strong>{% translate 'First Name:' %}</strong> {{ user.first_name|default:"N/A" }}</p>
            <p><strong>{% translate 'Last Name:' %}</strong> {{ user.last_name|default:"N/A" }}</p>
            <p><strong>{% translate 'Email:' %}</strong> {{ user.email|default:"N/A" }}</p>
            <p><strong>{% translate 'Phone Number:' %}</strong> {{ user.phone_number|default:"N/A" }}</p>
            <p><strong>{% translate 'Telegram:' %}</strong> {{ user.telegram|default:"N/A" }}</p>
            <p><strong>{% translate 'WhatsApp:' %}</strong> {{ user.whatsapp|default:"N/A" }}</p>
            <p><strong>{% translate 'Filial:' %}</strong> {{ user.filial.title|default:"N/A" }}</p>
            <p><strong>{% translate 'Date Joined:' %}</strong> {{ user.date_joined|date:"Y-m-d H:i" }}</p> {# Assuming date_joined is available from AbstractUser #}
            <p><strong>{% translate 'Last Login:' %}</strong> {{ user.last_login|date:"Y-m-d H:i" }}</p>

            <h3 style="margin-top: 20px;">{% translate 'Roles:' %}</h3>
            <ul>
                {% if user.is_superuser %}<li>{% translate 'Superuser' %}</li>{% endif %}
                {% if user.is_staff %}<li>{% translate 'Staff Access' %}</li>{% endif %}
                {% if user.is_technolog %}<li>{% translate 'Technolog' %}</li>{% endif %}
                {% if user.is_upakovka %}<li>{% translate 'Upakovka' %}</li>{% endif %}
                {% if user.is_utug %}<li>{% translate 'Utug' %}</li>{% endif %}
                {% if user.is_croi %}<li>{% translate 'Croi' %}</li>{% endif %}
                {% if user.is_buttons %}<li>{% translate 'Buttons' %}</li>{% endif %}
                {% if user.is_tailor %}<li>{% translate 'Tailor' %}</li>{% endif %}
                {% if user.is_povar %}<li>{% translate 'Povar' %}</li>{% endif %}
                {% if not user.is_superuser and not user.is_staff and not user.is_technolog and not user.is_upakovka and not user.is_utug and not user.is_croi and not user.is_buttons and not user.is_tailor and not user.is_povar %}
                <li>{% translate 'No specific roles assigned' %}</li>
                {% endif %}
            </ul>

             <h3 style="margin-top: 20px;">{% translate 'Groups:' %}</h3>
             {% if user.groups.all %}
                <ul>
                    {% for group in user.groups.all %}
                        <li>{{ group.name }}</li>
                    {% endfor %}
                </ul>
             {% else %}
                 <p>{% translate 'Not a member of any group.' %}</p>
             {% endif %}

        </div>
    </div>

    <br>
    <p><a href="{% url 'admin:index' %}">{% translate 'Back to Admin Home' %}</a></p>
</div>
{% endblock %}

{% block sidebar %}{% endblock %} {# Remove sidebar if extending admin base #} -->